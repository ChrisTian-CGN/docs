__NUXT_JSONP__("/articles/login-from-live-disk", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac){return {data:[{article:{slug:"login-from-live-disk",description:"Access an installed OS from a Live Disk\u002FRecovery.\n",title:D,keywords:["recovery","reset","locked out","crash","reinstall","refresh","repair"],facebookImage:"\u002F_nuxt\u002Fimages\u002Flogin-from-live-disk-facebookImage.jpg",twitterImage:"\u002F_nuxt\u002Fimages\u002Flogin-from-live-disk-twitterImage.jpg",hidden:false,section:"software-troubleshooting",tableOfContents:true,toc:[{id:M,depth:N,text:D},{id:O,depth:P,text:Q},{id:w,depth:N,text:R},{id:S,depth:P,text:T}],body:{type:"root",children:[{type:a,tag:U,props:{id:M},children:[{type:a,tag:q,props:{href:"#login-from-live-disk-chroot",ariaHidden:x,tabIndex:y},children:[{type:a,tag:c,props:{className:[z,A]},children:[]}]},{type:b,value:D}]},{type:b,value:d},{type:a,tag:f,props:{},children:[{type:b,value:"It is possible to mount an OS drive and log into the installed OS with root access. This is called gaining \"chroot\" (change to root) access. This process is used for a variety of things. "},{type:a,tag:l,props:{to:"\u002Farticles\u002Fdisaster-recovery"},children:[{type:b,value:"rescuing files"}]},{type:b,value:V},{type:a,tag:l,props:{to:"\u002Farticles\u002Fpackage-manager-pop"},children:[{type:b,value:"fixing package manager issues"}]},{type:b,value:V},{type:a,tag:l,props:{to:"\u002Farticles\u002Fpassword"},children:[{type:b,value:"resetting forgotten user passwords"}]},{type:b,value:", etc."}]},{type:b,value:d},{type:a,tag:f,props:{},children:[{type:b,value:"You'll need a Live OS Environment from which to mount your drive, and log in. This can be done from a "},{type:a,tag:l,props:{to:"\u002Farticles\u002Flive-disk"},children:[{type:b,value:"live USB"}]},{type:b,value:", or, on Pop!_OS, from the "},{type:a,tag:l,props:{to:"\u002Farticles\u002Fpop-recovery"},children:[{type:b,value:"recovery partition"}]},{type:b,value:".\nBoot the computer while holding down the "},{type:a,tag:l,props:{to:"\u002Farticles\u002Fboot-menu"},children:[{type:b,value:"boot menu key for your system"}]},{type:b,value:", or the "},{type:a,tag:m,props:{},children:[{type:b,value:"SPACE"}]},{type:b,value:" bar to access Systemd, and the Pop!_OS Recovery partition."}]},{type:b,value:d},{type:a,tag:f,props:{},children:[{type:b,value:"Once booted into the Live Environment, press "},{type:a,tag:m,props:{},children:[{type:b,value:"SUPER"}]},{type:b,value:E},{type:a,tag:m,props:{},children:[{type:b,value:W}]},{type:b,value:" to open a terminal (Pop!_OS), or "},{type:a,tag:m,props:{},children:[{type:b,value:"CTRL"}]},{type:b,value:E},{type:a,tag:m,props:{},children:[{type:b,value:"ALT"}]},{type:b,value:E},{type:a,tag:m,props:{},children:[{type:b,value:W}]},{type:b,value:" (Ubuntu) then type this command:"}]},{type:b,value:d},{type:a,tag:r,props:{className:[s]},children:[{type:a,tag:t,props:{className:[u],style:v},children:[{type:a,tag:e,props:{},children:[{type:a,tag:c,props:{className:[g]},children:[{type:a,tag:c,props:{style:h},children:[{type:b,value:X}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[g]},children:[]}]}]}]},{type:b,value:d},{type:a,tag:f,props:{},children:[{type:b,value:"This will show you the name of the main internal drive, which will have 4 partitions (Pop!_OS), or 3 (Ubuntu) on it.  We will be working with the 3rd partition.  If the main drive is an NVMe drive, it will be called "},{type:a,tag:e,props:{},children:[{type:b,value:"\u002Fdev\u002Fnvme0n1p3"}]},{type:b,value:" (p2 on Ubuntu) and if the drive is a SATA or regular M.2 drive, it will be called "},{type:a,tag:e,props:{},children:[{type:b,value:"\u002Fdev\u002Fsda3"}]},{type:b,value:" (sda2 on Ubuntu)."}]},{type:b,value:d},{type:a,tag:f,props:{},children:[{type:a,tag:j,props:{},children:[{type:b,value:"NOTE:"}]},{type:b,value:" The rest of these instructions assume a Pop!_OS install, for partition labelling. The instructions are otherwise the same. Change the partition number accordingly."}]},{type:b,value:d},{type:a,tag:f,props:{},children:[{type:b,value:"Next, run this command:"}]},{type:b,value:F},{type:a,tag:G,props:{},children:[{type:a,tag:H,props:{},children:[{type:a,tag:n,props:{},children:[{type:a,tag:o,props:{align:i},children:[{type:a,tag:j,props:{},children:[{type:b,value:I}]}]},{type:a,tag:o,props:{align:i},children:[{type:a,tag:j,props:{},children:[{type:b,value:J}]}]}]}]},{type:a,tag:K,props:{},children:[{type:a,tag:n,props:{},children:[{type:a,tag:p,props:{align:i},children:[{type:a,tag:e,props:{},children:[{type:b,value:"sudo mount \u002Fdev\u002Fsda3 \u002Fmnt"}]}]},{type:a,tag:p,props:{align:i},children:[{type:a,tag:e,props:{},children:[{type:b,value:"sudo mount \u002Fdev\u002Fnvme0n1p3 \u002Fmnt"}]}]}]}]}]},{type:b,value:d},{type:a,tag:f,props:{},children:[{type:b,value:"If the command fails and says "},{type:a,tag:e,props:{},children:[{type:b,value:"mount: \u002Fmnt: unknown filesystem type 'crypto_LUKS'"}]},{type:b,value:", then the hard drive has been encrypted, and additional commands are needed to unlock it."}]},{type:b,value:d},{type:a,tag:Y,props:{id:O},children:[{type:a,tag:q,props:{href:"#encrypted-disk",ariaHidden:x,tabIndex:y},children:[{type:a,tag:c,props:{className:[z,A]},children:[]}]},{type:b,value:Q}]},{type:b,value:d},{type:a,tag:f,props:{},children:[{type:b,value:"To get access to an encrypted disk, these additional commands need to be run in order to unlock the disk.  Please use the "},{type:a,tag:e,props:{},children:[{type:b,value:X}]},{type:b,value:" command described above to determine the correct drive and partition."}]},{type:b,value:F},{type:a,tag:G,props:{},children:[{type:a,tag:H,props:{},children:[{type:a,tag:n,props:{},children:[{type:a,tag:o,props:{align:i},children:[{type:a,tag:j,props:{},children:[{type:b,value:I}]}]},{type:a,tag:o,props:{align:i},children:[{type:a,tag:j,props:{},children:[{type:b,value:J}]}]}]}]},{type:a,tag:K,props:{},children:[{type:a,tag:n,props:{},children:[{type:a,tag:p,props:{align:i},children:[{type:a,tag:e,props:{},children:[{type:b,value:"sudo cryptsetup luksOpen \u002Fdev\u002Fsda3 cryptdata"}]}]},{type:a,tag:p,props:{align:i},children:[{type:a,tag:e,props:{},children:[{type:b,value:"sudo cryptsetup luksOpen \u002Fdev\u002Fnvme0n1p3 cryptdata"}]}]}]}]}]},{type:b,value:d},{type:a,tag:r,props:{className:[s]},children:[{type:a,tag:t,props:{className:[u],style:v},children:[{type:a,tag:e,props:{},children:[{type:a,tag:c,props:{className:[g]},children:[{type:a,tag:c,props:{style:h},children:[{type:b,value:"sudo lvscan"}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[g]},children:[{type:a,tag:c,props:{style:h},children:[{type:b,value:"sudo vgchange -ay"}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[g]},children:[]}]}]}]},{type:b,value:d},{type:a,tag:f,props:{},children:[{type:a,tag:j,props:{},children:[{type:b,value:"Note:"}]},{type:b,value:" Pay attention to what the "},{type:a,tag:e,props:{},children:[{type:b,value:"cryptdata"}]},{type:b,value:" group is called. If it is named something other than "},{type:a,tag:e,props:{},children:[{type:b,value:"data-root"}]},{type:b,value:", substitute the correct info into this next command.  Make sure that "},{type:a,tag:e,props:{},children:[{type:b,value:"-root"}]},{type:b,value:" is on the end:"}]},{type:b,value:d},{type:a,tag:r,props:{className:[s]},children:[{type:a,tag:t,props:{className:[u],style:v},children:[{type:a,tag:e,props:{},children:[{type:a,tag:c,props:{className:[g]},children:[{type:a,tag:c,props:{style:h},children:[{type:b,value:"sudo mount \u002Fdev\u002Fmapper\u002Fdata-root \u002Fmnt"}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[g]},children:[]}]}]}]},{type:b,value:d},{type:a,tag:f,props:{},children:[{type:b,value:"And now the existing hard drive can be accessed by going to the "},{type:a,tag:e,props:{},children:[{type:b,value:Z}]},{type:b,value:" folder.  To use the "},{type:a,tag:_,props:{},children:[{type:b,value:$}]},{type:b,value:" program, go to '+ Other Locations' -\u003E 'Computer' and then click on the "},{type:a,tag:e,props:{},children:[{type:b,value:Z}]},{type:b,value:" folder."}]},{type:b,value:d},{type:a,tag:U,props:{id:w},children:[{type:a,tag:q,props:{href:"#chroot",ariaHidden:x,tabIndex:y},children:[{type:a,tag:c,props:{className:[z,A]},children:[]}]},{type:b,value:R}]},{type:b,value:d},{type:a,tag:f,props:{},children:[{type:a,tag:e,props:{},children:[{type:b,value:w}]},{type:b,value:" is the way to run commands as if the existing operating system had been booted.  Once these commands are run, then package manager ("},{type:a,tag:e,props:{},children:[{type:b,value:"apt"}]},{type:b,value:") and other system-level commands can be run."}]},{type:b,value:d},{type:a,tag:f,props:{},children:[{type:b,value:"The EFI partition is the next partition to be mounted. To help identify it, this partition is usually around 512MB, and is labeled as "},{type:a,tag:e,props:{},children:[{type:b,value:"\u002Fboot\u002Fefi"}]},{type:b,value:"."}]},{type:b,value:F},{type:a,tag:G,props:{},children:[{type:a,tag:H,props:{},children:[{type:a,tag:n,props:{},children:[{type:a,tag:o,props:{align:i},children:[{type:a,tag:j,props:{},children:[{type:b,value:I}]}]},{type:a,tag:o,props:{align:i},children:[{type:a,tag:j,props:{},children:[{type:b,value:J}]}]}]}]},{type:a,tag:K,props:{},children:[{type:a,tag:n,props:{},children:[{type:a,tag:p,props:{align:i},children:[{type:a,tag:e,props:{},children:[{type:b,value:"sudo mount \u002Fdev\u002Fsda1 \u002Fmnt\u002Fboot\u002Fefi"}]}]},{type:a,tag:p,props:{align:i},children:[{type:a,tag:e,props:{},children:[{type:b,value:"sudo mount \u002Fdev\u002Fnvme0n1p1 \u002Fmnt\u002Fboot\u002Fefi"}]}]}]}]}]},{type:b,value:d},{type:a,tag:r,props:{className:[s]},children:[{type:a,tag:t,props:{className:[u],style:v},children:[{type:a,tag:e,props:{},children:[{type:a,tag:c,props:{className:[g]},children:[{type:a,tag:c,props:{style:k},children:[{type:b,value:"for"}]},{type:a,tag:c,props:{style:h},children:[{type:b,value:B}]},{type:a,tag:c,props:{style:C},children:[{type:b,value:L}]},{type:a,tag:c,props:{style:h},children:[{type:b,value:B}]},{type:a,tag:c,props:{style:k},children:[{type:b,value:"in"}]},{type:a,tag:c,props:{style:h},children:[{type:b,value:" \u002Fdev \u002Fdev\u002Fpts \u002Fproc \u002Fsys \u002Frun"}]},{type:a,tag:c,props:{style:k},children:[{type:b,value:aa}]},{type:a,tag:c,props:{style:h},children:[{type:b,value:B}]},{type:a,tag:c,props:{style:k},children:[{type:b,value:"do"}]},{type:a,tag:c,props:{style:h},children:[{type:b,value:" sudo mount -B "}]},{type:a,tag:c,props:{style:k},children:[{type:b,value:ab}]},{type:a,tag:c,props:{style:C},children:[{type:b,value:L}]},{type:a,tag:c,props:{style:h},children:[{type:b,value:" \u002Fmnt"}]},{type:a,tag:c,props:{style:k},children:[{type:b,value:ab}]},{type:a,tag:c,props:{style:C},children:[{type:b,value:L}]},{type:a,tag:c,props:{style:k},children:[{type:b,value:aa}]},{type:a,tag:c,props:{style:h},children:[{type:b,value:B}]},{type:a,tag:c,props:{style:k},children:[{type:b,value:"done"}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[g]},children:[{type:a,tag:c,props:{style:h},children:[{type:b,value:"sudo cp -n \u002Fetc\u002Fresolv.conf \u002Fmnt\u002Fetc\u002F"}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[g]},children:[{type:a,tag:c,props:{style:h},children:[{type:b,value:"sudo chroot \u002Fmnt"}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[g]},children:[]}]}]}]},{type:b,value:d},{type:a,tag:f,props:{},children:[{type:b,value:"With this last command, you will have root access to your installed system. Once the drive is accessed, commands for maintenance can be run on the installed system. For example, "},{type:a,tag:q,props:{href:"article\u002Fpackage-manager-pop"},children:[{type:b,value:"package manager repair commands"}]},{type:b,value:". You can also access your files with "},{type:a,tag:_,props:{},children:[{type:b,value:$}]},{type:b,value:" via \"+ Other Locations\" -\u003E \"Computer\" -\u003E \"mnt.\""}]},{type:b,value:d},{type:a,tag:Y,props:{id:S},children:[{type:a,tag:q,props:{href:"#after-chroot",ariaHidden:x,tabIndex:y},children:[{type:a,tag:c,props:{className:[z,A]},children:[]}]},{type:b,value:T}]},{type:b,value:d},{type:a,tag:f,props:{},children:[{type:b,value:"Once you are done accessing files or running commands in your installed OS, you can exit from "},{type:a,tag:e,props:{},children:[{type:b,value:w}]},{type:b,value:" and reboot the computer, by running these commands:"}]},{type:b,value:d},{type:a,tag:r,props:{className:[s]},children:[{type:a,tag:t,props:{className:[u],style:v},children:[{type:a,tag:e,props:{},children:[{type:a,tag:c,props:{className:[g]},children:[{type:a,tag:c,props:{style:C},children:[{type:b,value:"exit"}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[g]},children:[{type:a,tag:c,props:{style:h},children:[{type:b,value:"reboot"}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[g]},children:[]}]}]}]}]},dir:"\u002F",path:"\u002Flogin-from-live-disk",extension:".md",createdAt:ac,updatedAt:ac,authors:[{username:"storyaddict",commitUrl:"https:\u002F\u002Fgithub.com\u002Fsystem76\u002Fdocs\u002Fcommit\u002F9ab158af59295b7937000e429d48012ea0aa8331",avatarUrl:"https:\u002F\u002Favatars.githubusercontent.com\u002Fu\u002F55410594?v=4",profileUrl:"https:\u002F\u002Fgithub.com\u002Fstoryaddict"}]},_img:{}}],fetch:{},mutations:void 0}}("element","text","span","\n","code","p","line","color: var(--code-0F)","center","strong","color: var(--code-0A)","nuxt-link","kbd","tr","th","td","a","div","nuxt-content-highlight","pre","shiki","background-color: var(--code-00)","chroot","true",-1,"icon","icon-link"," ","color: var(--code-0C)","Login from Live Disk (Chroot)","+","\n\n\n\n\n\n\n\n\n\n\n\n\n\n","table","thead","SATA Drives","NVMe Drives","tbody","i","login-from-live-disk-chroot",2,"encrypted-disk",3,"Encrypted Disk","Chroot","after-chroot","After Chroot","h2",", ","T","lsblk","h3","\u002Fmnt","u","Files",";","$","2022-03-04T15:39:42.621Z")));