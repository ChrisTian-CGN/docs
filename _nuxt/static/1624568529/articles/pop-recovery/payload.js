__NUXT_JSONP__("/articles/pop-recovery", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao){return {data:[{article:{slug:"pop-recovery",description:"Here is how to use the recovery partition to repair, refresh or reinstall your operating system.\n",title:T,keywords:["recovery","reset","locked out","crash",H,"refresh",I],facebookImage:"\u002F_nuxt\u002Fimages\u002Fpop-recovery-facebookImage.jpg",twitterImage:"\u002F_nuxt\u002Fimages\u002Fpop-recovery-twitterImage.jpg",hidden:false,section:"software-troubleshooting",tableOfContents:true,toc:[{id:I,depth:B,text:U},{id:V,depth:J,text:W},{id:C,depth:B,text:X},{id:Y,depth:J,text:Z},{id:_,depth:B,text:$},{id:H,depth:J,text:aa},{id:ab,depth:B,text:ac}],body:{type:"root",children:[{type:b,tag:"h1",props:{id:"recovery-partition"},children:[{type:b,tag:k,props:{href:"#recovery-partition",ariaHidden:l,tabIndex:m},children:[{type:b,tag:d,props:{className:[n,o]},children:[]}]},{type:a,value:T}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"The recovery partition on this operating system is a full copy of the Pop!_OS installation disk. It can be used exactly the same as if a live disk copy of Pop!_OS was booted from a USB drive. The existing operating system can be repaired or reinstalled from the recovery mode. You can also perform a refresh install, which allows you to reinstall without losing any user data or data in your home directory, or opt to do a fresh install, which will essentially reset all OS data. Refresh Installs are only available on a fresh install of Pop!_OS 19.04 and above."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"To boot into recovery mode, bring up the "},{type:b,tag:p,props:{},children:[{type:a,value:ad}]},{type:a,value:" menu by holding down "},{type:b,tag:r,props:{},children:[{type:a,value:"SPACE"}]},{type:a,value:" while the system is booting, or by holding\u002Ftapping any function keys "},{type:b,tag:h,props:{},children:[{type:a,value:"NOT"}]},{type:a,value:" used to "},{type:b,tag:K,props:{to:"\u002Farticles\u002Fboot-menu"},children:[{type:a,value:"Access the BIOS\u002FBoot Menu"}]},{type:a,value:" (On non-System76 hardware, try the keys "},{type:b,tag:r,props:{},children:[{type:a,value:"F1"}]},{type:a,value:" through "},{type:b,tag:r,props:{},children:[{type:a,value:"F12"}]},{type:a,value:")"}]},{type:a,value:c},{type:b,tag:"blockquote",props:{},children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"NOTE:"}]},{type:a,value:" These instructions assume Pop!_OS is the only OS running on your system. If you are booting more than one operating system you may need to change your boot order first, or manually select the Pop!_OS Disk from your BIOS\u002FBoot menu."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Once the menu is shown, choose "},{type:b,tag:h,props:{},children:[{type:a,value:"Pop!_OS Recovery"}]},{type:a,value:D}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:v,props:{alt:ad,src:"\u002Fimages\u002Fpop-recovery\u002Fsystemd-boot.png"},children:[]}]},{type:a,value:c},{type:b,tag:E,props:{id:I},children:[{type:b,tag:k,props:{href:"#repair",ariaHidden:l,tabIndex:m},children:[{type:b,tag:d,props:{className:[n,o]},children:[]}]},{type:a,value:U}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"If the existing system needs to be repaired, then click the "},{type:b,tag:h,props:{},children:[{type:a,value:"Install Pop!_OS"}]},{type:a,value:" in the top left, and choose "},{type:b,tag:h,props:{},children:[{type:a,value:"quit"}]},{type:a,value:D}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"To access to the existing OS drive and run the package manager "},{type:b,tag:K,props:{to:"\u002Farticles\u002Fpackage-manager-pop\u002F"},children:[{type:a,value:"repair commands"}]},{type:a,value:", the following commands will need to be run:"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"First, press "},{type:b,tag:r,props:{},children:[{type:b,tag:ae,props:{":icon":"['fab', 'pop-os']"},children:[]}]},{type:a,value:af},{type:b,tag:r,props:{},children:[{type:a,value:ag}]},{type:a,value:ah},{type:b,tag:r,props:{},children:[{type:b,tag:ae,props:{":icon":"['fab', 'ubuntu']"},children:[]}]},{type:a,value:af},{type:b,tag:r,props:{},children:[{type:a,value:ag}]},{type:a,value:" to open a terminal, then type this command:"}]},{type:a,value:c},{type:b,tag:w,props:{className:[x]},children:[{type:b,tag:y,props:{className:[z],style:A},children:[{type:b,tag:i,props:{},children:[{type:b,tag:d,props:{className:[f]},children:[{type:b,tag:d,props:{style:g},children:[{type:a,value:ai}]}]},{type:a,value:c},{type:b,tag:d,props:{className:[f]},children:[]}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"This will show you the name of the main internal drive, which will have 4 partitions on it.  We will be working with the 3rd partition.  If the main drive is an NVMe drive, it will be called "},{type:b,tag:i,props:{},children:[{type:a,value:"\u002Fdev\u002Fnvme0n1p3"}]},{type:a,value:" and if the drive is a SATA or regular M.2 drive, it will be called "},{type:b,tag:i,props:{},children:[{type:a,value:"\u002Fdev\u002Fsda3"}]},{type:a,value:D}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Next, run this command:"}]},{type:a,value:L},{type:b,tag:M,props:{},children:[{type:b,tag:N,props:{},children:[{type:b,tag:s,props:{},children:[{type:b,tag:t,props:{align:j},children:[{type:b,tag:h,props:{},children:[{type:a,value:O}]}]},{type:b,tag:t,props:{align:j},children:[{type:b,tag:h,props:{},children:[{type:a,value:P}]}]}]}]},{type:b,tag:Q,props:{},children:[{type:b,tag:s,props:{},children:[{type:b,tag:u,props:{align:j},children:[{type:a,value:"sudo mount \u002Fdev\u002Fsda3 \u002Fmnt"}]},{type:b,tag:u,props:{align:j},children:[{type:a,value:"sudo mount \u002Fdev\u002Fnvme0n1p3 \u002Fmnt"}]}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"If the command fails and says "},{type:b,tag:i,props:{},children:[{type:a,value:"mount: \u002Fmnt: unknown filesystem type 'crypto_LUKS'"}]},{type:a,value:", then the hard drive has been encrypted, and additional commands are needed to unlock it."}]},{type:a,value:c},{type:b,tag:R,props:{id:V},children:[{type:b,tag:k,props:{href:aj,ariaHidden:l,tabIndex:m},children:[{type:b,tag:d,props:{className:[n,o]},children:[]}]},{type:a,value:W}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"To get access to an encrypted disk, these additional commands need to be run in order to unlock the disk.  Please use the "},{type:b,tag:i,props:{},children:[{type:a,value:ai}]},{type:a,value:" command described above to determine the correct drive and partition."}]},{type:a,value:L},{type:b,tag:M,props:{},children:[{type:b,tag:N,props:{},children:[{type:b,tag:s,props:{},children:[{type:b,tag:t,props:{align:j},children:[{type:b,tag:h,props:{},children:[{type:a,value:O}]}]},{type:b,tag:t,props:{align:j},children:[{type:b,tag:h,props:{},children:[{type:a,value:P}]}]}]}]},{type:b,tag:Q,props:{},children:[{type:b,tag:s,props:{},children:[{type:b,tag:u,props:{align:j},children:[{type:a,value:"sudo cryptsetup luksOpen \u002Fdev\u002Fsda3 cryptdata"}]},{type:b,tag:u,props:{align:j},children:[{type:a,value:"sudo cryptsetup luksOpen \u002Fdev\u002Fnvme0n1p3 cryptdata"}]}]}]}]},{type:a,value:c},{type:b,tag:w,props:{className:[x]},children:[{type:b,tag:y,props:{className:[z],style:A},children:[{type:b,tag:i,props:{},children:[{type:b,tag:d,props:{className:[f]},children:[{type:b,tag:d,props:{style:g},children:[{type:a,value:"sudo lvscan"}]}]},{type:a,value:c},{type:b,tag:d,props:{className:[f]},children:[{type:b,tag:d,props:{style:g},children:[{type:a,value:"sudo vgchange -ay"}]}]},{type:a,value:c},{type:b,tag:d,props:{className:[f]},children:[]}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"Note:"}]},{type:a,value:" Pay attention to what the cryptdata group is called. If it is named something other than 'data-root' Substitute the correct info into this next command.  Make sure that "},{type:b,tag:i,props:{},children:[{type:a,value:"-root"}]},{type:a,value:" is on the end:"}]},{type:a,value:c},{type:b,tag:w,props:{className:[x]},children:[{type:b,tag:y,props:{className:[z],style:A},children:[{type:b,tag:i,props:{},children:[{type:b,tag:d,props:{className:[f]},children:[{type:b,tag:d,props:{style:g},children:[{type:a,value:"sudo mount \u002Fdev\u002Fmapper\u002Fdata-root \u002Fmnt"}]}]},{type:a,value:c},{type:b,tag:d,props:{className:[f]},children:[]}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"And now the existing hard drive can be accessed by going to the "},{type:b,tag:i,props:{},children:[{type:a,value:ak}]},{type:a,value:" folder.  To use the "},{type:b,tag:p,props:{},children:[{type:a,value:al}]},{type:a,value:" program, go to '+ Other Locations' -\u003E 'Computer' and then click on the "},{type:b,tag:i,props:{},children:[{type:a,value:ak}]},{type:a,value:" folder."}]},{type:a,value:c},{type:b,tag:E,props:{id:C},children:[{type:b,tag:k,props:{href:"#chroot",ariaHidden:l,tabIndex:m},children:[{type:b,tag:d,props:{className:[n,o]},children:[]}]},{type:a,value:X}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:p,props:{},children:[{type:a,value:C}]},{type:a,value:" is the way to run commands as if the existing operating system had been booted.  Once these commands are run, then package manager ("},{type:b,tag:p,props:{},children:[{type:a,value:"apt"}]},{type:a,value:") and other system level commands can be run."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"The EFI partition is usually around 512MB so that would be the partition that we replace in the next command. The Recovery Partition is around 4GB as well."}]},{type:a,value:L},{type:b,tag:M,props:{},children:[{type:b,tag:N,props:{},children:[{type:b,tag:s,props:{},children:[{type:b,tag:t,props:{align:j},children:[{type:b,tag:h,props:{},children:[{type:a,value:O}]}]},{type:b,tag:t,props:{align:j},children:[{type:b,tag:h,props:{},children:[{type:a,value:P}]}]}]}]},{type:b,tag:Q,props:{},children:[{type:b,tag:s,props:{},children:[{type:b,tag:u,props:{align:j},children:[{type:a,value:"sudo mount \u002Fdev\u002Fsda1 \u002Fmnt\u002Fboot\u002Fefi"}]},{type:b,tag:u,props:{align:j},children:[{type:a,value:"sudo mount \u002Fdev\u002Fnvme0n1p1 \u002Fmnt\u002Fboot\u002Fefi"}]}]}]}]},{type:a,value:c},{type:b,tag:w,props:{className:[x]},children:[{type:b,tag:y,props:{className:[z],style:A},children:[{type:b,tag:i,props:{},children:[{type:b,tag:d,props:{className:[f]},children:[{type:b,tag:d,props:{style:q},children:[{type:a,value:"for"}]},{type:b,tag:d,props:{style:g},children:[{type:a,value:F}]},{type:b,tag:d,props:{style:G},children:[{type:a,value:S}]},{type:b,tag:d,props:{style:g},children:[{type:a,value:F}]},{type:b,tag:d,props:{style:q},children:[{type:a,value:"in"}]},{type:b,tag:d,props:{style:g},children:[{type:a,value:" dev dev\u002Fpts proc sys run"}]},{type:b,tag:d,props:{style:q},children:[{type:a,value:am}]},{type:b,tag:d,props:{style:g},children:[{type:a,value:F}]},{type:b,tag:d,props:{style:q},children:[{type:a,value:"do"}]},{type:b,tag:d,props:{style:g},children:[{type:a,value:" sudo mount -B "}]},{type:b,tag:d,props:{style:q},children:[{type:a,value:an}]},{type:b,tag:d,props:{style:G},children:[{type:a,value:S}]},{type:b,tag:d,props:{style:g},children:[{type:a,value:" \u002Fmnt\u002F"}]},{type:b,tag:d,props:{style:q},children:[{type:a,value:an}]},{type:b,tag:d,props:{style:G},children:[{type:a,value:S}]},{type:b,tag:d,props:{style:q},children:[{type:a,value:am}]},{type:b,tag:d,props:{style:g},children:[{type:a,value:F}]},{type:b,tag:d,props:{style:q},children:[{type:a,value:"done"}]}]},{type:a,value:c},{type:b,tag:d,props:{className:[f]},children:[{type:b,tag:d,props:{style:g},children:[{type:a,value:"sudo cp -n \u002Fetc\u002Fresolv.conf \u002Fmnt\u002Fetc\u002F"}]}]},{type:a,value:c},{type:b,tag:d,props:{className:[f]},children:[{type:b,tag:d,props:{style:g},children:[{type:a,value:"sudo chroot \u002Fmnt"}]}]},{type:a,value:c},{type:b,tag:d,props:{className:[f]},children:[]}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"With this last command you will have root access to your installed system. You can also access your files with "},{type:b,tag:p,props:{},children:[{type:a,value:"files"}]},{type:a,value:" via \"Other Locations\" \u003E Computer \u003E \u002Fmnt."}]},{type:a,value:c},{type:b,tag:R,props:{id:Y},children:[{type:b,tag:k,props:{href:"#after-chroot",ariaHidden:l,tabIndex:m},children:[{type:b,tag:d,props:{className:[n,o]},children:[]}]},{type:a,value:Z}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Once you are done accessing files or running commands in your installed OS, you can exit from the "},{type:b,tag:p,props:{},children:[{type:a,value:C}]},{type:a,value:" and reboot the computer, run these commands:"}]},{type:a,value:c},{type:b,tag:w,props:{className:[x]},children:[{type:b,tag:y,props:{className:[z],style:A},children:[{type:b,tag:i,props:{},children:[{type:b,tag:d,props:{className:[f]},children:[{type:b,tag:d,props:{style:G},children:[{type:a,value:"exit"}]}]},{type:a,value:c},{type:b,tag:d,props:{className:[f]},children:[{type:b,tag:d,props:{style:g},children:[{type:a,value:"reboot"}]}]},{type:a,value:c},{type:b,tag:d,props:{className:[f]},children:[]}]}]}]},{type:a,value:c},{type:b,tag:E,props:{id:_},children:[{type:b,tag:k,props:{href:"#refresh-install",ariaHidden:l,tabIndex:m},children:[{type:b,tag:d,props:{className:[n,o]},children:[]}]},{type:a,value:$}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Starting with new installations of Pop!_OS 19.04 (not through upgrading) the installer will include a new Refresh Install option that allows you to reinstall the OS to be reinstalled without losing user account information and data in the home directory. However, your applications will still need to be reinstalled."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:v,props:{alt:"Refresh Install Option",src:"\u002Fimages\u002Fpop-recovery\u002Frecovery-install-page-20.04.png"},children:[]}]},{type:a,value:c},{type:b,tag:R,props:{id:H},children:[{type:b,tag:k,props:{href:"#reinstall",ariaHidden:l,tabIndex:m},children:[{type:b,tag:d,props:{className:[n,o]},children:[]}]},{type:a,value:aa}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Once the recovery operating system has opened, the "},{type:b,tag:p,props:{},children:[{type:a,value:"Pop Installer"}]},{type:a,value:" will start automatically.  If the system needs to be reinstalled, go ahead and continue the installation steps as demonstrated "},{type:b,tag:K,props:{to:"\u002Farticles\u002Finstall-pop\u002F"},children:[{type:a,value:"here"}]},{type:a,value:D}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"If files need to be copied off before reinstall, open the "},{type:b,tag:p,props:{},children:[{type:a,value:al}]},{type:a,value:" program to get access to the existing install.  If the existing install is encrypted, please see the "},{type:b,tag:k,props:{href:aj},children:[{type:a,value:"encrypted disk"}]},{type:a,value:" instructions above."}]},{type:a,value:c},{type:b,tag:E,props:{id:ab},children:[{type:b,tag:k,props:{href:"#upgrade",ariaHidden:l,tabIndex:m},children:[{type:b,tag:d,props:{className:[n,o]},children:[]}]},{type:a,value:ac}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"It is important to keep the Recovery Partition updated as it is not updated with the installed OS. This will allow you to reinstall the OS to the currently installed version if something went wrong in your install."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"The Recovery Partition can be upgraded from within the OS in Settings -\u003E OS Upgrade like in the screenshot below:"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:v,props:{alt:"Pop Recovery Update Available",src:"\u002Fimages\u002Fpop-recovery\u002Fpop-recovery-update.png"},children:[]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Once the "},{type:b,tag:h,props:{},children:[{type:a,value:"Update"}]},{type:a,value:" button is pressed you will see the below screenshot:"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:v,props:{alt:"Pop Recovery Updating",src:"\u002Fimages\u002Fpop-recovery\u002Fpop-recovery-update-updating.png"},children:[]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"The screenshot below shows that the Recovery Partition has been upgrade successfully:"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:v,props:{alt:"Pop Recovery Updated",src:"\u002Fimages\u002Fpop-recovery\u002Fpop-recovery-update-upgraded.png"},children:[]}]}]},dir:ah,path:"\u002Fpop-recovery",extension:".md",createdAt:ao,updatedAt:ao,authors:[{username:"btkostner",commitUrl:"https:\u002F\u002Fgithub.com\u002Fsystem76\u002Fdocs\u002Fcommit\u002F99bec2785fe36090c41b037e68fa85fae99bf3e7",avatarUrl:"https:\u002F\u002Favatars.githubusercontent.com\u002Fu\u002F3385679?v=4",profileUrl:"https:\u002F\u002Fgithub.com\u002Fbtkostner"},{username:"ahoneybun",commitUrl:"https:\u002F\u002Fgithub.com\u002Fsystem76\u002Fdocs\u002Fcommit\u002F0c104890582e5e4fde3aa40ea206db37b89aea50",avatarUrl:"https:\u002F\u002Favatars.githubusercontent.com\u002Fu\u002F4884946?v=4",profileUrl:"https:\u002F\u002Fgithub.com\u002Fahoneybun"}]},_img:{}}],fetch:{},mutations:void 0}}("text","element","\n","span","p","line","color: var(--code-0F)","strong","code","center","a","true",-1,"icon","icon-link","u","color: var(--code-0A)","kbd","tr","th","td","img","div","nuxt-content-highlight","pre","shiki","background-color: var(--code-00)",2,"chroot",".","h2"," ","color: var(--code-0C)","reinstall","repair",3,"nuxt-link","\n\n\n\n\n\n\n\n\n\n\n\n\n\n","table","thead","SATA Drives","NVMe Drives","tbody","h3","i","Recovery Partition","Repair","encrypted-disk","Encrypted Disk","Chroot","after-chroot","After Chroot","refresh-install","Refresh Install","Reinstall","upgrade","Upgrade","systemd-boot","font-awesome-icon","+","T","\u002F","lsblk","#encrypted-disk","\u002Fmnt","Files",";","$","2021-06-24T21:01:17.096Z")));